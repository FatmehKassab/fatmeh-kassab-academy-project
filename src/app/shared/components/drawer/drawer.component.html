<p-drawer [(visible)]="visible" position="right" [style]="{width: '30rem'}">
  <ng-template pTemplate="header">
    <h2 *ngIf="drawerType === 'cart'">My Shopping Cart <span style="color: var(--secondary);">({{ totalItems }})</span></h2>
    <h2 *ngIf="drawerType === 'favorites'">My Favorites <span style="color: var(--secondary);">({{ totalFavorites }})</span></h2>
  </ng-template>

  <div class="drawer-body">
    <div class="cart-content">
      @if(products.length > 0){
        <app-product-list></app-product-list>
      } @else {
        <div>
          <h4>Your {{ drawerType }} is empty</h4>
          <h6>Add item to it now</h6>
        </div>
      }

     
    </div>

    <div class="checkout-button-container" *ngIf="products.length != 0 && drawerType === 'cart'">
       <div class="total-container">
        <p class="total">Total: {{ grandTotal$ | async | number:'1.2-2' }}$</p>
        <div (click)="empty()">
          <img [src]="ICONS.bin" alt="altText" class="bin" />
        </div>
      </div>
      <app-button
        title="Checkout"
        type="submit"
        bgColor="var(--secondary)"
        (click)="navigateTo('/checkout')"
      ></app-button>
    </div>
  </div>
</p-drawer>
